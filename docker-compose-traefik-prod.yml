services:
  go-fiber-core:
    build:
      context: .
      dockerfile: ./dockerfiles/Dockerfile.api.prod
    env_file:
      - .env
    command: "/app/bin/app"
    networks:
      - nginx-proxy
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.bankfilegen.rule=Host(`local.bankfilegen.test`)"
      - "traefik.http.routers.bankfilegen.entrypoints=websecure"
      - "traefik.http.routers.bankfilegen.tls=true"
      - "traefik.http.services.bankfilegen.loadbalancer.server.port=9009"
    deploy:
      replicas: 1  # Esto no lo usaremos directamente, se escalar√° desde la CLI
